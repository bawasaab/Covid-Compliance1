<app-common-header></app-common-header>

<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        {{ restaurantData?.restaurant_name }} {{ restaurantData?.restaurant_addr }}
        <!-- <small>{{ restaurantData?.restaurant_addr }}</small> -->
      </h1>
      <!-- <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Level</a></li>
        <li class="active">Here</li>
      </ol> -->
    </section>

    <!-- Main content -->
    <section class="content container-fluid">

        <section class="content">
            <!-- Small boxes (Stat box) -->
            <!-- FOR DATE TIME PICKER -->
            <div class="row">

            </div>

            <div class="row">

              <div class="col-lg-4 col-xs-6">
                <!-- small box -->
                <div class="small-box bg-blue">
                  <div class="inner">
                    <h3>{{ totalVisitorCnt }}</h3>
      
                    <p>Total Visitor Count</p>
                  </div>
                  <div class="icon">
                    <i class="ion ion-bag"></i>
                  </div>
                  <a href="javascript:void(0);" routerLink="/users/listing" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
            </div>

            <div class="col-lg-4 col-xs-6">
                <!-- small box -->
                <div class="small-box bg-green">
                  <div class="inner">
                    <h3>{{ todaysVisitorCnt }}</h3>
      
                    <p>Todays Visitor Count</p>
                  </div>
                  <div class="icon">
                    <i class="ion ion-bag"></i>
                  </div>
                  <a href="javascript:void(0);" routerLink="/users/listing" class="small-box-footer">More info <i class="fa fa-arrow-circle-right"></i></a>
                </div>
            </div>

              <div class="col-lg-4 col-xs-6">
                  <div class="col-md-12">
                      <img [src]="restaurantData?.qr_code">
                  </div>
                  <div class="col-md-12">

                      <div class="btn-group ">
                          <!-- <button type="button" class="btn btn-primary" (click)="printFile(restaurantData?._id)">
                              <span class="glyphicon glyphicon-print"></span> Print
                          </button> -->
                          <button type="button" class="btn btn-primary" (click)="downloadFile(restaurantData?._id)">
                              <span class="glyphicon glyphicon-download"></span> Download
                          </button>
                          <a href="javscript:void(0);" routerLink="/restaurants/master/{{ restaurantData?._id }}" type="button" class="btn btn-primary">
                              <span class="glyphicon glyphicon-pencil"></span> Edit
                          </a>
                        </div>
                  </div>
              </div>            
            </div>

            <div class="row">

              <div class="col-lg-8">
                <div class="table-responsive table-bordered">
                    <table class="table table-hover">
                        <thead>
                          <tr>
                            <th>#</th>
                            <th>Customer Name</th>
                            <th>
                              Contact

                              <button type="button" class="btn btn-primary" (click)="getVisitorsCsv(restaurantData?._id)">
                                <span class="glyphicon glyphicon-download"></span> Download CSV
                              </button>
                            </th>
                        </tr>
                        </thead>
                        
                        <tbody *ngIf="todaysVisitors?.length;else no_data_templ">
                            <tr *ngFor="let user of todaysVisitors; let i = index">
                                <td>{{ i + 1 }}</td>
                                <td>{{ user.name }}</td>
                                <td>{{ user.contact }}</td>
                            </tr>
                        </tbody>

                        <ng-template #no_data_templ>
                            <tbody>
                              <tr>
                                <td class="text-center" colspan="7">No record found!</td>
                              </tr>
                            </tbody>
                        </ng-template>
                    </table>
                </div>
            </div>
            </div>

            

        </section>
    </section>

    
</div>

<app-common-footer></app-common-footer>